<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Kitap Okuma KulÃ¼bÃ¼</title>

<style>
body { font-family: Arial; background:#f2f2f2; padding:20px; }
h1,h2 { text-align:center; }
table { width:100%; border-collapse:collapse; background:white; }
th,td { border:1px solid #333; padding:6px; text-align:center; }
th { background:#ddd; }
input { width:95%; }
button { padding:6px 10px; margin:3px; cursor:pointer; }
.geldi { background:#b6fcb6; }
.gelmedi { background:#fcb6b6; }
</style>
</head>

<body>

<h1>ğŸ“š Kitap Okuma KulÃ¼bÃ¼</h1>
<h2>BaÅŸkanlar: Kerem ToÃ§ & Umut ToÃ§</h2>

<h3>ğŸ“… Aktif Hafta: <span id="haftaNo"></span></h3>

<button onclick="yeniHafta()">ğŸ†• Yeni Hafta</button>
<button onclick="gecmisiGoster()">ğŸ“‚ GeÃ§miÅŸ Haftalar</button>
<button onclick="tumunuSifirla()">ğŸ—‘ï¸ TÃ¼m HaftalarÄ± SÄ±fÄ±rla</button>

<div id="gecmis"></div>

<br>

<h3>ğŸ† Bu Hafta En Ã‡ok Okuyan</h3>
<input id="enCok">

<br><br>

<table id="tablo">
<tr>
<th>Ä°sim</th>
<th>Kitap 1</th><th>Sayfa</th>
<th>Kitap 2</th><th>Sayfa</th>
<th>KatÄ±lÄ±m</th>
</tr>
</table>

<script>
const kisiler = [
"Kerem ToÃ§","Umut ToÃ§","Ahmet Tiftik","YaÄŸmur Nisa Selet",
"Arda Efe AkpÄ±nar","Saim Efe","HÃ¼ma","Muhammed Hamza","Talha","Nil"
];

let hafta = Number(localStorage.getItem("aktifHafta") || 1);
document.getElementById("haftaNo").innerText = hafta;

function bosHaftaVerisi(){
  return kisiler.map(isim=>({
    isim,
    kitap1:"",
    sayfa1:"",
    kitap2:"",
    sayfa2:"",
    durum:""
  }));
}

let veriler = JSON.parse(localStorage.getItem("hafta_"+hafta)) || bosHaftaVerisi();

function tabloyuCiz(){
  let t = document.getElementById("tablo");
  t.innerHTML = `
  <tr>
  <th>Ä°sim</th><th>Kitap 1</th><th>Sayfa</th>
  <th>Kitap 2</th><th>Sayfa</th><th>KatÄ±lÄ±m</th>
  </tr>`;
  
  veriler.forEach((k,i)=>{
    t.innerHTML += `
    <tr class="${k.durum}">
      <td>${k.isim}</td>
      <td><input value="${k.kitap1}" oninput="guncelle(${i},'kitap1',this.value)"></td>
      <td><input type="number" value="${k.sayfa1}" oninput="guncelle(${i},'sayfa1',this.value)"></td>
      <td><input value="${k.kitap2}" oninput="guncelle(${i},'kitap2',this.value)"></td>
      <td><input type="number" value="${k.sayfa2}" oninput="guncelle(${i},'sayfa2',this.value)"></td>
      <td>
        <button onclick="durum(${i},'geldi')">â•</button>
        <button onclick="durum(${i},'gelmedi')">â–</button>
      </td>
    </tr>`;
  });
}

function guncelle(i,alan,deger){
  veriler[i][alan]=deger;
  kaydet();
}

function durum(i,d){
  veriler[i].durum=d;
  kaydet();
  tabloyuCiz();
}

function kaydet(){
  localStorage.setItem("hafta_"+hafta, JSON.stringify(veriler));
}

function yeniHafta(){
  hafta++;
  localStorage.setItem("aktifHafta", hafta);
  localStorage.setItem("hafta_"+hafta, JSON.stringify(bosHaftaVerisi()));
  location.reload();
}

function gecmisiGoster(){
  let a=document.getElementById("gecmis");
  a.innerHTML="<h3>ğŸ“‚ GeÃ§miÅŸ Haftalar</h3>";
  for(let i=1;i<hafta;i++){
    a.innerHTML+=`<button onclick="haftaAc(${i})">Hafta ${i}</button>`;
  }
}

function haftaAc(no){
  localStorage.setItem("aktifHafta", no);
  location.reload();
}

function tumunuSifirla(){
  if(confirm("HER ÅEY silinecek. Emin misin?")){
    localStorage.clear();
    location.reload();
  }
}

tabloyuCiz();
</script>

</body>
</html>
